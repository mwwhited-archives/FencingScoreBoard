function sendData(n){console.log("sendData::".concat(JSON.stringify(n)));connection=window.ScoreMachineHub.connection;connection&&connection.invoke("sendData",n)["catch"](function(n){return console.error(n.toString())})}function startBout(){sendData({messageType:"SpecialAction",Action:"StartBout"})}function endBout(){sendData({messageType:"SpecialAction",Action:"EndBout"})}function setChannel(n){sendData({messageType:"SpecialAction",Channel:n||"RESET"})}function updatePlayers(n,t){p1=n||{};p2=t||{};sendData({messageType:"ScoreMachine",playerRightName:(p1.name||"").substring(0,19),playerRightClub:(p1.club||"").substring(0,32),playerLeftName:(p2.name||"").substring(0,19),playerLeftClub:(p2.club||"").substring(0,32)})}function overlayOn(){sendData({messageType:"ScoreMachine",content:"block"})}function overlayOff(){sendData({messageType:"ScoreMachine",content:"none"})}function documentReady(n){function r(){t.start().then(function(){t.invoke("sendData",{messageType:"ClientConnected","user-agent":navigator.userAgent})["catch"](function(n){return console.error(n.toString())})})["catch"](function(n){console.error(n.toString());setTimeout(r,1e3)})}var u,i,t;if(console.log("documentReady"),u="WebSocket"in window||"MozWebSocket"in window,console.log("supportsWebSockets: "+u),console.log("userAgent: "+navigator.userAgent),i=signalR.HttpTransportType.WebSockets|signalR.HttpTransportType.LongPolling|signalR.HttpTransportType.ServerSentEvents,navigator.userAgent.indexOf("NeTVBrowser")>-1&&(i=signalR.HttpTransportType.LongPolling|signalR.HttpTransportType.ServerSentEvents),t=(new signalR.HubConnectionBuilder).withUrl("".concat(n||"","/ScoreMachineHub"),{transport:i}).configureLogging(signalR.LogLevel.Information).build(),window.ScoreMachineHub.connection=t,window.ScoreMachineHub.sendData=sendData,window.ScoreMachineHub.startBout=startBout,window.ScoreMachineHub.endBout=endBout,window.ScoreMachineHub.updatePlayers=updatePlayers,window.ScoreMachineHub.overlayOn=overlayOn,window.ScoreMachineHub.overlayOff=overlayOff,window.ScoreMachineHub.setChannel=setChannel,window.ScoreMachineVM&&window.ScoreMachineVM.onDocumentReady)window.ScoreMachineVM.onDocumentReady(t);t.on("ReceiveData",function(n){if(console.log("ReceiveData: "+JSON.stringify(n)),n&&window.ScoreMachineVM&&window.ScoreMachineVM.onReceiveData)window.ScoreMachineVM.onReceiveData(n,t)});t.onclose(function(n){n&&console.error(n.toString());setTimeout(r,1e3)});r()}window.ScoreMachineHub=window.ScoreMachineHub||{connection:{}};window.ScoreMachineVM=window.ScoreMachineVM||{};