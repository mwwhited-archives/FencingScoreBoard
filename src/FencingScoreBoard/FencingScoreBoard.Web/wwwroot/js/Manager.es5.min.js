"use strict";function addMsg(n){var t=document.createElement("LI"),i=document.createTextNode(JSON.stringify(n));t.appendChild(i);document.getElementById("received").appendChild(t)}function getInputs(){var n={messageType:"ScoreMachine"},i=document.querySelectorAll("input,select"),r,t;for(r in i)t=i[r],t.name&&t.value&&(n[t.name]=t.value);return n.playerRightName=n.playerRightName||" ",n.playerRightClub=n.playerRightClub||" ",n.playerRightName=n.playerRightName||" ",n.playerLeftClub=n.playerLeftClub||" ",n}function updateInputs(n,t){var i,r,u;if(n&&n.messageType&&n.messageType==="ScoreMachine"){console.log("score machine received");for(i in n)console.log("score machine idx: "+i),r=document.getElementById(i),r&&(u=n[i],console.log("score machine value: "+u),r.value=u)}console.log("recordingStatus: "+t);document.getElementById("recording-status").innerText=t?"Recording":"Stopped"}function onReceiveData(n){addMsg(JSON.stringify(n));n.data&&updateInputs(n.data,n.recording)}function onDocumentReady(){document.getElementById("Post").addEventListener("click",function(n){var t=getInputs();window.ScoreMachineHub.sendData(t);n.preventDefault()});document.getElementById("StartBout").addEventListener("click",function(n){window.ScoreMachineHub.startBout();n.preventDefault()});document.getElementById("EndBout").addEventListener("click",function(n){window.ScoreMachineHub.endBout();n.preventDefault()});document.getElementById("ClearReceived").addEventListener("click",function(n){for(var t=document.getElementById("received");t.hasChildNodes();)t.removeChild(t.lastChild);n.preventDefault()});document.getElementById("SwapPlayers").addEventListener("click",function(n){var t=getInputs(),i;console.log("swap players:".concat(t.playerRightName," => ",t.playerLeftName));i={playerRightName:t.playerRightName,playerRightClub:t.playerRightClub};t.playerRightName=t.playerLeftName||" ";t.playerRightClub=t.playerLeftClub||" ";t.playerLeftName=i.playerRightName||" ";t.playerLeftClub=i.playerRightClub||" ";window.ScoreMachineHub.sendData(t);n.preventDefault()});document.getElementById("ChangeVideo").addEventListener("click",function(n){console.log("ChangeVideo");var t=document.getElementById("channel").value;console.log("ChangeVideo:".concat(t));window.ScoreMachineHub.setChannel(t);n.preventDefault()})}window.ScoreMachineHub=window.ScoreMachineHub||{};window.ScoreMachineVM=window.ScoreMachineVM||{};window.ScoreMachineVM.onReceiveData=onReceiveData;window.ScoreMachineVM.onDocumentReady=onDocumentReady;
